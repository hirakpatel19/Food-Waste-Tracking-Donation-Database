{% extends "base.html" %}

{% block title %}How It Works - Food Waste Tracker{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Header -->
    <div class="row mb-5">
        <div class="col-12 text-center">
            <h1 class="display-4">How It Works</h1>
            <p class="lead">Simple steps to reduce waste and fight hunger</p>
        </div>
    </div>
    
    <!-- Overview -->
    <div class="row mb-5">
        <div class="col-lg-8 mx-auto text-center">
            <h2 class="text-success mb-4">Three Simple Steps</h2>
            <p class="lead">Our platform makes it easy for food donors and NGOs to connect and make a positive impact in their communities.</p>
        </div>
    </div>
    
    <!-- Steps -->
    <div class="row mb-5">
        <div class="col-md-4 text-center mb-4">
            <div class="card h-100 border-success">
                <div class="card-body p-4">
                    <div class="mb-4">
                        <div class="bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <span class="display-6 fw-bold">1</span>
                        </div>
                    </div>
                    <h4 class="text-success">Sign Up</h4>
                    <p>Create your account as either a Food Donor (restaurant, household, grocery store) or an NGO (charity, food bank, community organization).</p>
                    <a href="{{ url_for('auth.register') }}" class="btn btn-outline-success">Get Started</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 text-center mb-4">
            <div class="card h-100 border-primary">
                <div class="card-body p-4">
                    <div class="mb-4">
                        <div class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <span class="display-6 fw-bold">2</span>
                        </div>
                    </div>
                    <h4 class="text-primary">Share or Find Food</h4>
                    <p>Donors post their surplus food with details like quantity, expiry date, and pickup location. NGOs browse and search for donations that meet their needs.</p>
                    <a href="{{ url_for('main.browse_donations') }}" class="btn btn-outline-primary">Browse Food</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 text-center mb-4">
            <div class="card h-100 border-danger">
                <div class="card-body p-4">
                    <div class="mb-4">
                        <div class="bg-danger text-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                            <span class="display-6 fw-bold">3</span>
                        </div>
                    </div>
                    <h4 class="text-danger">Make Impact</h4>
                    <p>NGOs claim donations and coordinate pickup. Track the status from claim to completion and see the positive impact you're making together.</p>
                    {% if not current_user.is_authenticated %}
                        <a href="{{ url_for('auth.login') }}" class="btn btn-outline-danger">Sign In</a>
                    {% else %}
                        <a href="{{ url_for('main.dashboard') }}" class="btn btn-outline-danger">Dashboard</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    <!-- For Donors -->
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="text-center mb-4">For Food Donors</h2>
        </div>
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="text-success"><i class="bi bi-gift"></i> What You Can Donate</h5>
                    <ul class="list-unstyled">
                        <li><i class="bi bi-check-circle text-success"></i> Surplus prepared meals</li>
                        <li><i class="bi bi-check-circle text-success"></i> Fresh fruits and vegetables</li>
                        <li><i class="bi bi-check-circle text-success"></i> Bakery items and bread</li>
                        <li><i class="bi bi-check-circle text-success"></i> Packaged and canned goods</li>
                        <li><i class="bi bi-check-circle text-success"></i> Dairy products</li>
                        <li><i class="bi bi-check-circle text-success"></i> Any safe, edible food</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="text-success"><i class="bi bi-list-check"></i> How to Donate</h5>
                    <ol>
                        <li>Create your donor account</li>
                        <li>Add donation details (food type, quantity, expiry date)</li>
                        <li>Provide pickup address and instructions</li>
                        <li>Wait for NGO to claim your donation</li>
                        <li>Coordinate pickup with the NGO</li>
                        <li>Mark donation as completed</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    
    <!-- For NGOs -->
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="text-center mb-4">For NGOs & Charities</h2>
        </div>
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="text-primary"><i class="bi bi-search"></i> Finding Food</h5>
                    <ul class="list-unstyled">
                        <li><i class="bi bi-check-circle text-primary"></i> Browse available donations by location</li>
                        <li><i class="bi bi-check-circle text-primary"></i> Filter by food category and dietary needs</li>
                        <li><i class="bi bi-check-circle text-primary"></i> View expiry dates and quantities</li>
                        <li><i class="bi bi-check-circle text-primary"></i> See pickup addresses and instructions</li>
                        <li><i class="bi bi-check-circle text-primary"></i> Contact donor for coordination</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-lg-6 mb-4">
            <div class="card h-100">
                <div class="card-body">
                    <h5 class="text-primary"><i class="bi bi-clipboard-check"></i> Claiming Process</h5>
                    <ol>
                        <li>Register as an NGO with organization details</li>
                        <li>Browse and search available donations</li>
                        <li>Claim donations that meet your needs</li>
                        <li>Contact donor to arrange pickup</li>
                        <li>Update claim status throughout process</li>
                        <li>Mark as completed after distribution</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Safety & Guidelines -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card bg-warning bg-opacity-10 border-warning">
                <div class="card-body">
                    <h4 class="text-warning"><i class="bi bi-shield-exclamation"></i> Safety Guidelines</h4>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>For Donors:</h6>
                            <ul>
                                <li>Only donate safe, edible food</li>
                                <li>Check expiry dates before posting</li>
                                <li>Store food properly until pickup</li>
                                <li>Provide accurate pickup information</li>
                                <li>Follow local food safety regulations</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>For NGOs:</h6>
                            <ul>
                                <li>Inspect food quality upon pickup</li>
                                <li>Follow proper food handling procedures</li>
                                <li>Distribute food promptly</li>
                                <li>Maintain cold chain for perishables</li>
                                <li>Report any safety concerns</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- FAQ Section -->
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="text-center mb-4">Frequently Asked Questions</h2>
        </div>
        <div class="col-lg-6">
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                            Is there a cost to use the platform?
                        </button>
                    </h2>
                    <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            No, Food Waste Tracker is completely free for both donors and NGOs. Our goal is to facilitate food redistribution without any barriers.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                            What types of organizations can register as NGOs?
                        </button>
                    </h2>
                    <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Food banks, homeless shelters, community centers, religious organizations, and any registered charity serving vulnerable populations can join as NGOs.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                            How do I ensure food safety?
                        </button>
                    </h2>
                    <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Both donors and NGOs should follow local food safety guidelines. Only donate fresh, safe food, and NGOs should inspect donations upon pickup.
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-6">
            <div class="accordion" id="faqAccordion2">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                            Can individuals donate food from home?
                        </button>
                    </h2>
                    <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion2">
                        <div class="accordion-body">
                            Yes! Households can register as donors and share surplus food from events, grocery over-purchases, or home cooking.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
                            How is pickup coordinated?
                        </button>
                    </h2>
                    <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion2">
                        <div class="accordion-body">
                            After an NGO claims a donation, they can contact the donor directly using the provided contact information to arrange pickup times and logistics.
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
                        What happens if food expires before pickup?
                        </button>
                    </h2>
                    <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion2">
                        <div class="accordion-body">
                            The system automatically marks donations as expired. We encourage donors to set realistic expiry dates and NGOs to claim and pickup donations promptly.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Call to Action -->
    <div class="row">
        <div class="col-12 text-center">
            <div class="card bg-success text-white">
                <div class="card-body py-5">
                    <h2>Ready to Make a Difference?</h2>
                    <p class="lead">Join our community and help reduce food waste while fighting hunger.</p>
                    {% if not current_user.is_authenticated %}
                    <div class="d-flex justify-content-center gap-3 flex-wrap">
                        <a href="{{ url_for('auth.register') }}" class="btn btn-light btn-lg">
                            <i class="bi bi-person-plus"></i> Sign Up as Donor
                        </a>
                        <a href="{{ url_for('auth.register') }}" class="btn btn-outline-light btn-lg">
                            <i class="bi bi-building"></i> Sign Up as NGO
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}